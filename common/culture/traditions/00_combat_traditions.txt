##############################
# COMBAT CULTURAL TRADITIONS #
##############################

tradition_winter_warriors = {
	category = combat

	layers = {
		0 = learning
		1 = western
		4 = fight.dds
	}
	
	can_pick = {
		culture_not_pacifistic_trigger = yes
		culture_in_winter_geographical_region_trigger = yes
	}
	parameters = {
		winter_soldier_trait_more_common = yes
		winter_trait_bonuses = yes
		can_recruit_winter_specialist = yes
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_bellicose }
						any_in_list = { list = traits this = flag:ethos_stoic }
						any_in_list = { list = traits this = flag:ethos_communal }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}

			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 100
	}
}

tradition_forest_fighters = {
	category = combat

	layers = {
		0 = martial
		1 = western
		4 = forest.dds
	}
	
	can_pick = {
		culture_not_pacifistic_trigger = yes
		custom_description = {
			text = culture_in_forest_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = forest
						terrain = taiga
					}
				}
			}
		}
	}
	parameters = {
		forest_fighter_trait_more_common = yes
		forest_trait_bonuses = yes
		can_recruit_forest_specialist = yes
	}
	province_modifier = {
		forest_levy_size = 0.1
		taiga_levy_size = 0.1
		forest_supply_limit_mult = 0.25
		taiga_supply_limit_mult = 0.25
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_bellicose }
						any_in_list = { list = traits this = flag:ethos_stoic }
						any_in_list = { list = traits this = flag:ethos_communal }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								OR = {
									terrain = forest
									terrain = taiga
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = forest_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.2
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = forest
									terrain = taiga
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_mountaineers = {
	category = combat

	layers = {
		0 = martial
		1 = western
		4 = mountain.dds
	}
	
	is_shown = { 
	}

	can_pick = {
		culture_not_pacifistic_trigger = yes
		custom_description = {
			text = culture_in_mountains_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = mountains
						terrain = desert_mountains
					}
				}
			}
		}
	}
	parameters = {
		rough_terrain_expert_trait_more_common = yes
		mountain_trait_bonuses = yes
		can_recruit_mountain_specialist = yes
	}
	province_modifier = {
		mountains_levy_size = 0.1
		desert_mountains_levy_size = 0.1
		mountains_supply_limit_mult = 0.25
		desert_mountains_supply_limit_mult = 0.25
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_bellicose }
						any_in_list = { list = traits this = flag:ethos_stoic }
						any_in_list = { list = traits this = flag:ethos_communal }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								OR = {
									terrain = mountains
									terrain = desert_mountains
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = mountain_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.2
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = mountains
									terrain = desert_mountains
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_warriors_of_the_dry = {
	category = combat

	layers = {
		0 = martial
		1 = mena
		4 = desert.dds
	}

	is_shown = { 
	}
	
	can_pick = {
		culture_not_pacifistic_trigger = yes
		custom_description = {
			text = culture_in_dryland_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = drylands
						terrain = desert
					}
				}
			}
		}
		NOT = { has_cultural_tradition = tradition_mubarizuns } #To prevent stacking after hybridization
	}
	parameters = {
		desert_warrior_trait_more_common = yes
		dry_trait_bonuses = yes
		can_recruit_dry_specialist = yes
	}
	province_modifier = {
		drylands_levy_size = 0.1
		desert_levy_size = 0.1
		drylands_supply_limit_mult = 0.25
		desert_supply_limit_mult = 0.25
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_bellicose }
						any_in_list = { list = traits this = flag:ethos_stoic }
						any_in_list = { list = traits this = flag:ethos_communal }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								OR = {
									terrain = drylands
									terrain = desert
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = dry_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.2
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = drylands
									terrain = desert
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_highland_warriors = {
	category = combat

	layers = {
		0 = intrigue
		1 = western
		4 = mountain.dds
	}

	is_shown = {
	}
	can_pick = {
		culture_not_pacifistic_trigger = yes
		custom_description = {
			text = culture_in_hills_desc
			any_culture_county = {
				any_county_province = {
					terrain = hills
				}
			}
		}
	}
	
	parameters = {
		rough_terrain_expert_trait_more_common = yes
		hill_trait_bonuses = yes
		can_recruit_hill_specialist = yes
	}
	province_modifier = {
		hills_levy_size = 0.1
		hills_supply_limit_mult = 0.25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_bellicose }
						any_in_list = { list = traits this = flag:ethos_stoic }
						any_in_list = { list = traits this = flag:ethos_communal }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								terrain = hills
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = hill_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.2
							culture = scope:character.culture
							any_county_province = {
								terrain = hills
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_jungle_warriors = {
	category = combat

	layers = {
		0 = intrigue
		1 = mena
		4 = jungle.dds
	}

	is_shown = {
	}
	
	can_pick = {
		culture_not_pacifistic_trigger = yes
		custom_description = {
			text = culture_in_jungle_desc
			any_culture_county = {
				any_county_province = {
					terrain = jungle
				}
			}
		}
	}
	parameters = {
		jungle_stalker_trait_more_common = yes
		jungle_trait_bonuses = yes
		can_recruit_jungle_specialist = yes
	}
	province_modifier = {
		jungle_levy_size = 0.1
		jungle_supply_limit_mult = 0.25
	}
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_bellicose }
						any_in_list = { list = traits this = flag:ethos_stoic }
						any_in_list = { list = traits this = flag:ethos_communal }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								terrain = jungle
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = jungle_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.2
							culture = scope:character.culture
							any_county_province = {
								terrain = jungle
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_only_the_strong = {
	category = combat

	layers = {
		0 = martial
		1 = mena
		4 = soldiers2.dds
	}
	
	can_pick = {
		custom_description = {
			text = culture_not_egalitarian
			NOT = {
				any_in_list = { list = traits this = flag:ethos_egalitarian }
			}
		}
	}
	
	parameters = {
		minimum_prowess_for_knights = yes
		blademaster_trait_bonuses = yes
		prowess_from_martial_education = yes
	}
	province_modifier = {
		levy_size = -0.25
	}
	character_modifier = {
		men_at_arms_recruitment_cost = 0.25
		knight_effectiveness_mult = 1
		knight_limit = 2
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_bellicose }
						any_in_list = { list = traits this = flag:ethos_stoic }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_stoic_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_knight = {
								count >= 6
								prowess >= 12
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = knights_with_prowess_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				scope:character = {
					NOR = {
						prowess >= 12
						has_trait = strong
						has_trait = physique_good
					}
				}
			}
			multiply = 0.25
		}
	}
}

tradition_warriors_by_merit = {
	category = combat

	layers = {
		0 = martial
		1 = mediterranean
		4 = soldiers2.dds
	}
	
	can_pick = {
		
	}
	
	parameters = {
		high_prowess_ignores_knight_restrictions = yes
		blademaster_traits_more_common = yes
	}
	character_modifier = {
		prowess_per_prestige_level = 1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_bellicose }
						any_in_list = { list = traits this = flag:ethos_egalitarian }
						any_in_list = { list = traits this = flag:ethos_communal }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_egalitarian_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_courtier = {
								count >= 5
								prowess >= 10
								is_adult = yes
								NOT = {
									can_be_knight_trigger = { ARMY_OWNER = prev }
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = courtiers_with_prowess_who_cant_be_knight_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOR = {
					any_in_list = { list = traits this = flag:ethos_egalitarian }
					scope:character = {
						NOT = {
							can_be_combatant_based_on_gender_trigger = { ARMY_OWNER = this }
						}
					}
				}
			}
			multiply = 0.25
		}
	}
}

tradition_warrior_monks = {
	category = combat

	layers = {
		0 = martial
		1 = indian
		4 = temple.dds
	}
	
	can_pick = {
		
	}
	
	parameters = {
		prowess_from_religious_traits = yes
		culture_clergy_can_fight = yes
	}
	character_modifier = {
		prowess_per_piety_level = 1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_bellicose }
						any_in_list = { list = traits this = flag:ethos_spiritual }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							scope:character = {
								save_temporary_scope_as = culture_head_link
								faith = {
									any_faith_character = {
										count >= 15
										culture = scope:culture_head_link.culture
										prowess >= 10
										OR = {
											is_clergy = yes
											has_education_learning_trigger = yes
										}
									}
								}
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_head_faith_clergy_prowess_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOR = {
					any_in_list = { list = traits this = flag:ethos_bellicose }
					any_in_list = { list = traits this = flag:ethos_spiritual }
				}
			}
			multiply = 0.25
		}
	}
}

tradition_talent_acquisition = {
	category = combat

	layers = {
		0 = diplo
		1 = mena
		4 = greeting.dds
	}
	
	can_pick = {
		
	}
	
	parameters = {
		can_recruit_prisoners_easily = yes
		better_knights_from_decision = yes
		pardoning_gives_loyalty = yes
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_bellicose }
						any_in_list = { list = traits this = flag:ethos_egalitarian }
						any_in_list = { list = traits this = flag:ethos_courtly }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_egalitarian_or_courtly_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							save_temporary_scope_as = culture_head_link
							any_prisoner = {
								count >= 10
								NOR = {
									is_courtier_of = scope:culture_head_link
									is_foreign_court_or_pool_guest_of = scope:culture_head_link
								}
								OR = {
									martial >= 12
									diplomacy >= 12
									stewardship >= 12
									intrigue >= 12
									learning >= 12
									prowess >= 12
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = skilled_prisoners_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOR = {
					any_in_list = { list = traits this = flag:ethos_bellicose }
					any_in_list = { list = traits this = flag:ethos_egalitarian }
					any_in_list = { list = traits this = flag:ethos_courtly }
				}
			}
			multiply = 0.5
		}
	}
}

tradition_strength_in_numbers = {
	category = combat

	layers = {
		0 = martial
		1 = mena
		4 = soldiers3.dds
	}
	
	province_modifier = {
		levy_size = 0.15
	}
	character_modifier = {
		bows_max_size_add = 2
		swords_max_size_add = 2
		axes_max_size_add = 2
		lances_max_size_add = 2
		magic_max_size = 2
		armors_max_size_add = -2
		light_cav_max_size_add = -2
		heavy_cav_max_size_add = -2
		missile_cav_max_size_add = -2
		light_flyers_max_size_add = -2
		heavy_flyers_max_size_add = -2
		swords_recruitment_cost_mult = -0.15
		bows_recruitment_cost_mult = -0.15
		axes_recruitment_cost_mult = -0.15
		lances_recruitment_cost_mult = -0.15
		mahic_recruitment_cost_mult = -0.15
		knight_limit = -2
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_bellicose }
						any_in_list = { list = traits this = flag:ethos_spiritual }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_spiritual_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 5 # The AI shouldn't really pick this very often
	}
}

tradition_frugal_armorsmiths = {
	category = combat

	layers = {
		0 = steward
		1 = western
		4 = shield.dds
	}
	
	character_modifier = {
		army_maintenance_mult = -0.15
		men_at_arms_recruitment_cost = -0.15
		armors_toughness_mult = -0.2
		heavy_cav_toughness_mult = -0.2
		heavy_flyers_toughness_mult = -0.2
		knight_effectiveness_mult = -0.2
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_bellicose }
						any_in_list = { list = traits this = flag:ethos_stoic }
						any_in_list = { list = traits this = flag:ethos_communal }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 25 # The AI shouldn't really pick this very often
	}
}

tradition_malleable_invaders = {
	category = combat

	layers = {
		0 = martial
		1 = mena
		4 = diplomacy.dds
	}
	
	is_shown = {
		has_dlc_feature = hybridize_culture
	}
	can_pick = {
		# culture_in_non_sedentary_geographical_region_trigger = yes
		culture_not_pacifistic_trigger = yes
	}
	
	parameters = {
		easier_to_hybridize = yes
		cheaper_to_hybridize = yes
		cheaper_convert_to_local_culture = yes
	}
	character_modifier = {
		faith_conversion_piety_cost_mult = -0.2
		different_faith_county_opinion_mult = -0.2
		
		ai_war_chance = 0.5
		ai_war_cooldown = -0.25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_bellicose }
						any_in_list = { list = traits this = flag:ethos_egalitarian }
						any_in_list = { list = traits this = flag:ethos_bureaucratic }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_egalitarian_or_bureaucratic_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 0
	}
}

tradition_quarrelsome = {
	category = combat

	layers = {
		0 = martial
		1 = mediterranean
		4 = speech.dds
	}
	
	can_pick = {
		culture_not_pacifistic_trigger = yes
	}
	
	parameters = {
		can_use_conquest_cbs = yes
		cb_lower_prestige_level_requirement = yes
		cheaper_cbs = yes
	}
	character_modifier = {
		monthly_county_control_change_factor = -0.4
		vassal_opinion = -5
		
		ai_honor = -20
		ai_war_chance = 0.5
		ai_war_cooldown = -0.25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_bellicose }
						any_in_list = { list = traits this = flag:ethos_spiritual }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								is_at_war = yes
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_at_war_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						has_government = tribal_government
					}
				}
			}
			multiply = 0.25
		}
	}
}

tradition_swords_for_hire = {
	category = combat

	layers = {
		0 = martial
		1 = indian
		4 = swords.dds
	}
	
	can_pick = {
		
	}
	
	parameters = {
		wanderers_gain_extra_combat_skills = yes
		mercenary_courtiers_gain_extra_skills = yes
		more_likely_to_leave_court = yes
	}
	culture_modifier = {
		mercenary_count_mult = 1
	}
	character_modifier = {
		same_culture_mercenary_hire_cost_mult = -0.15
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_bellicose }
						any_in_list = { list = traits this = flag:ethos_courtly }
						any_in_list = { list = traits this = flag:ethos_communal }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_courtly_or_communal_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								has_trait = education_martial_4
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_martial_edu_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
	}
}

tradition_reverence_for_veterans = {
	category = combat

	layers = {
		0 = martial
		1 = mediterranean
		4 = knight.dds
	}
	
	parameters = {
		wounds_and_scars_give_bonuses = yes
		guardians_can_transfer_commander_traits = yes
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_bellicose }
						any_in_list = { list = traits this = flag:ethos_stoic }
						any_in_list = { list = traits this = flag:ethos_egalitarian }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_egalitarian_or_stoic_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								OR = {
									has_trait = scarred
									has_trait = maimed
									has_trait = one_eyed
									has_trait = one_legged
									has_trait = disfigured
								}
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_scars_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { # Generally good & flavorful
		value = 100
	}
}

tradition_stalwart_defenders = {
	category = combat

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = shield.dds
	}
	
	parameters = {
		can_end_defensive_wars_earlier = yes
		more_fame_for_successful_defensive_wars = yes
		more_gold_for_successful_defensive_wars = yes
	}
	character_modifier = {
		defender_advantage = 5
	}
	province_modifier = {
		garrison_size = 0.25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_bellicose }
						any_in_list = { list = traits this = flag:ethos_stoic }
						any_in_list = { list = traits this = flag:ethos_courtly }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_courtly_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							any_county_province = {
								has_building_or_higher = march_01
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = march_building_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOR = {
					any_in_list = { list = traits this = flag:ethos_bellicose }
					any_in_list = { list = traits this = flag:ethos_stoic }
					scope:character = {
						sub_realm_size <= medium_realm_size
					}
				}
			}
			multiply = 0.25
		}
	}
}

tradition_battlefield_looters = {
	category = combat

	layers = {
		0 = martial
		1 = mediterranean
		4 = swords.dds
	}
	
	parameters = {
		gain_gold_from_battles = yes
		less_prestige_from_battles = yes
	}
	character_modifier = {
		max_loot_mult = 0.5
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_bellicose }
						any_in_list = { list = traits this = flag:ethos_bureaucratic }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_or_bureaucratic_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								OR = {
									has_trait = reaver
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_reaver_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOR = {
					scope:character = {
						has_government = tribal_government
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_hit_and_run = {
	category = combat

	layers = {
		0 = martial
		1 = mediterranean
		4 = soldiers4.dds
	}
	
	is_shown = {
	}
	can_pick = {
	}

	# Iberian: Concurso Tactics
	character_modifier = {
		light_flyers_damage_mult = 0.05
		light_flyers_screen_mult = 0.1
		light_cavalry_damage_mult = 0.05
		light_cavalry_screen_mult = 0.1
		missile_cav_damage_mult = 0.05
		missile_cav_screen_mult = 0.1
		magic_cav_damage_mult = 0.05
		magic_cav_screen_mult = 0.1
		siege_weapon_siege_value_mult = -0.2
		retreat_losses = -0.1
		hard_casualty_modifier = -0.1
		advantage = -2
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_bellicose }
						any_in_list = { list = traits this = flag:ethos_egalitarian }
						any_in_list = { list = traits this = flag:ethos_spiritual }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_egalitarian_or_spiritual_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
	}
}

tradition_stand_and_fight = {
	category = combat

	is_shown = {
	}

	layers = {
		0 = martial
		1 = indian
		4 = battle.dds
	}
	
	character_modifier = {
		armors_toughness_mult = 0.1
		armors_maintenance_mult = 0.2
		lances_toughness_mult = 0.1
		lances_maintenance_mult = 0.2
		heavy_cav_toughness_mult = 0.1
		heavy_cav_maintenance_mult = 0.1
		heavy_flyers_toughness_mult = 0.1
		heavy_flyers_maintenance_mult = 0.2
		hard_casualty_modifier = 0.1
		defender_advantage = 2
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_bellicose }
						any_in_list = { list = traits this = flag:ethos_spiritual }
						any_in_list = { list = traits this = flag:ethos_stoic }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_spiritual_or_stoic_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
	}
}

tradition_adaptive_skirmishing = {
	category = combat

	layers = {
		0 = intrigue
		1 = western
		4 = soldiers4.dds
	}
	
	character_modifier = {
		swords_damage_mult = 0.05
		swords_toughness_mult = 0.1
		swords_maintenance_mult = -0.05
		axes_damage_mult = 0.05
		axes_toughness_mult = 0.1
		axes_maintenance_mult = -0.05
		bows_damage_mult = 0.1
		bows_toughness_mult = 0.05
		bows_maintenance_mult = -0.05
		enemy_terrain_advantage = -0.25
		heavy_cav_damage_mult = -0.1
		heavy_cav_toughness_mult = -0.05
		armors_damage_mult = -0.1
		armors_toughness_mult = -0.05
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_bellicose }
						any_in_list = { list = traits this = flag:ethos_spiritual }
						any_in_list = { list = traits this = flag:ethos_stoic }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_spiritual_or_stoic_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
	}
}

tradition_formation_fighting = {
	category = combat

	layers = {
		0 = martial
		1 = mediterranean
		4 = soldiers3.dds
	}
	
	layers = {
		0 = martial
	}

	character_modifier = {
		lances_damage_mult = 0.05
		lances_toughness_mult = 0.1
		armors_damage_mult = 0.05
		armors_toughness_mult = 0.1
		bows_damage_mult = 0.1
		bows_toughness_mult = 0.05
		magic_damage_mult = 0.1
		magic_toughness_mult = 0.05
		counter_efficiency = 0.15
		pursue_efficiency = -0.15
		swords_damage_mult = -0.15
		swords_toughness_mult = -0.05
		axes_damage_mult = -0.15
		axes_toughness_mult = -0.05
		light_cav_damage_mult = -0.15
		light_cav_toughness_mult = -0.05
		missile_cav_damage_mult = -0.15
		missile_cav_toughness_mult = -0.05
		magic_cav_damage_mult = -0.15
		magic_cav_toughness_mult = -0.05
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_bellicose }
						any_in_list = { list = traits this = flag:ethos_courtly }
						any_in_list = { list = traits this = flag:ethos_communal }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_courtly_or_communal_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
	}
}

tradition_horse_breeder = {
	category = combat

	layers = {
		0 = steward
		1 = mena
		4 = horses.dds
	}

	is_shown = {
	}
	
	character_modifier = {
		light_cav_maintenance_mult = -0.15
		light_cav_recruitment_cost_mult = -0.25
		heavy_cav_maintenance_mult = -0.15
		heavy_cav_recruitment_cost_mult = -0.25
		missile_cav_maintenance_mult = -0.15
		missile_cav_recruitment_cost_mult = -0.25
		magic_cav_maintenance_mult = -0.15
		magic_cav_recruitment_cost_mult = -0.25
		light_flyers_maintenance_mult = -0.15
		light_flyers_recruitment_cost_mult = -0.25
		heavy_flyers_maintenance_mult = -0.15
		heavy_flyers_recruitment_cost_mult = -0.25
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						any_in_list = { list = traits this = flag:ethos_bellicose }
						any_in_list = { list = traits this = flag:ethos_stoic }
						any_in_list = { list = traits this = flag:ethos_communal }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
	}
}

tradition_longbow_competitions = {
	category = combat
	layers = {
		0 = martial
		1 = western
		4 = bow.dds
	}
	
	is_shown = {
	}
	can_pick = {
	}
	
	parameters = {
		unlock_maa_longbowmen = yes
		archer_era_improvement = yes
	}
	character_modifier = {
		bows_max_size_add = 2
		light_flyers_max_size_add = -2
		heavy_flyers_max_size_add = -2
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirement.
			if = {
				limit = {
					NOR = {
						# Stoic
						any_in_list = {
							list = traits
							this = flag:ethos_stoic
						}
						# Bureaucratic
						any_in_list = {
							list = traits
							this = flag:ethos_bureaucratic
						}
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_stoic_or_bureaucratic_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
	}
}

has_crest_potential = {
	OR = {
		has_trait = crest_minor_flames
		has_trait = crest_major_flames
		has_trait = crest_minor_seiros
		has_trait = crest_major_seiros
		has_trait = crest_minor_cethleann
		has_trait = crest_major_cethleann
		has_trait = crest_minor_indech
		has_trait = crest_major_indech
		has_trait = crest_minor_macuil
		has_trait = crest_major_macuil
		has_trait = crest_minor_cichol
		has_trait = crest_major_cichol
		has_trait = crest_minor_noa
		has_trait = crest_major_noa
		has_trait = crest_minor_chevalier
		has_trait = crest_major_chevalier
		has_trait = crest_minor_aubin
		has_trait = crest_major_aubin
		has_trait = crest_minor_timotheos
		has_trait = crest_major_timotheos
		has_trait = crest_minor_blaiddyd
		has_trait = crest_major_blaiddyd
		has_trait = crest_minor_charon
		has_trait = crest_major_charon
		has_trait = crest_minor_daphnel
		has_trait = crest_major_daphnel
		has_trait = crest_minor_dominic
		has_trait = crest_major_dominic
		has_trait = crest_minor_fraldarius
		has_trait = crest_major_fraldarius
		has_trait = crest_minor_gautier
		has_trait = crest_major_gautier
		has_trait = crest_minor_gloucester
		has_trait = crest_major_gloucester
		has_trait = crest_minor_goneril
		has_trait = crest_major_goneril
		has_trait = crest_minor_lamine
		has_trait = crest_major_lamine
		has_trait = crest_minor_riegan
		has_trait = crest_major_riegan
		has_trait = crest_minor_maurice
		has_trait = crest_major_maurice
		has_trait = crest_minor_ernest
		has_trait = crest_major_ernest
		has_trait = crest_blood_blaiddyd
		has_trait = crest_blood_charon
		has_trait = crest_blood_daphnel
		has_trait = crest_blood_dominic
		has_trait = crest_blood_fraldarius
		has_trait = crest_blood_gautier
		has_trait = crest_blood_gloucester
		has_trait = crest_blood_goneril
		has_trait = crest_blood_lamine
		has_trait = crest_blood_riegan
		has_trait = crest_blood_maurice
		has_trait = crest_blood_cethleann
		has_trait = crest_blood_cichol
		has_trait = crest_blood_indech
		has_trait = crest_blood_macuil
		has_trait = crest_blood_aubin
		has_trait = crest_blood_chevalier
		has_trait = crest_blood_noa
		has_trait = crest_blood_timotheos
		has_trait = crest_blood_flames
		has_trait = crest_blood_seiros
		has_trait = crest_blood_ernest
	}
}

has_crest = {
	OR = {
		has_trait = crest_minor_flames
		has_trait = crest_major_flames
		has_trait = crest_minor_seiros
		has_trait = crest_major_seiros
		has_trait = crest_minor_cethleann
		has_trait = crest_major_cethleann
		has_trait = crest_minor_indech
		has_trait = crest_major_indech
		has_trait = crest_minor_macuil
		has_trait = crest_major_macuil
		has_trait = crest_minor_cichol
		has_trait = crest_major_cichol
		has_trait = crest_minor_noa
		has_trait = crest_major_noa
		has_trait = crest_minor_chevalier
		has_trait = crest_major_chevalier
		has_trait = crest_minor_aubin
		has_trait = crest_major_aubin
		has_trait = crest_minor_timotheos
		has_trait = crest_major_timotheos
		has_trait = crest_minor_blaiddyd
		has_trait = crest_major_blaiddyd
		has_trait = crest_minor_charon
		has_trait = crest_major_charon
		has_trait = crest_minor_daphnel
		has_trait = crest_major_daphnel
		has_trait = crest_minor_dominic
		has_trait = crest_major_dominic
		has_trait = crest_minor_fraldarius
		has_trait = crest_major_fraldarius
		has_trait = crest_minor_gautier
		has_trait = crest_major_gautier
		has_trait = crest_minor_gloucester
		has_trait = crest_major_gloucester
		has_trait = crest_minor_goneril
		has_trait = crest_major_goneril
		has_trait = crest_minor_lamine
		has_trait = crest_major_lamine
		has_trait = crest_minor_riegan
		has_trait = crest_major_riegan
		has_trait = crest_minor_maurice
		has_trait = crest_major_maurice
		has_trait = crest_minor_ernest
		has_trait = crest_major_ernest
	}
}

has_minor_crest = {
	OR = {
		has_trait = crest_minor_flames
		has_trait = crest_minor_seiros
		has_trait = crest_minor_cethleann
		has_trait = crest_minor_indech
		has_trait = crest_minor_macuil
		has_trait = crest_minor_cichol
		has_trait = crest_minor_noa
		has_trait = crest_minor_chevalier
		has_trait = crest_minor_aubin
		has_trait = crest_minor_timotheos
		has_trait = crest_minor_blaiddyd
		has_trait = crest_minor_charon
		has_trait = crest_minor_daphnel
		has_trait = crest_minor_dominic
		has_trait = crest_minor_fraldarius
		has_trait = crest_minor_gautier
		has_trait = crest_minor_gloucester
		has_trait = crest_minor_goneril
		has_trait = crest_minor_lamine
		has_trait = crest_minor_riegan
		has_trait = crest_minor_maurice
		has_trait = crest_minor_ernest
	}
}

has_major_crest = {
	OR = {
		has_trait = crest_major_flames
		has_trait = crest_major_seiros
		has_trait = crest_major_cethleann
		has_trait = crest_major_indech
		has_trait = crest_major_macuil
		has_trait = crest_major_cichol
		has_trait = crest_major_noa
		has_trait = crest_major_chevalier
		has_trait = crest_major_aubin
		has_trait = crest_major_timotheos
		has_trait = crest_major_blaiddyd
		has_trait = crest_major_charon
		has_trait = crest_major_daphnel
		has_trait = crest_major_dominic
		has_trait = crest_major_fraldarius
		has_trait = crest_major_gautier
		has_trait = crest_major_gloucester
		has_trait = crest_major_goneril
		has_trait = crest_major_lamine
		has_trait = crest_major_riegan
		has_trait = crest_major_maurice
		has_trait = crest_major_ernest
	}
}

is_custom_char = {
	OR = {
		###MALES###
		this = character:100018 #Pallardo
		this = character:200020 #Ignatz
		this = character:300028 #Sylvain
		this = character:200000 #Oswald
		this = character:200015 #Lorenz
		this = character:300004 #Rodrigue
		this = character:100002 #Seteth
		this = character:100008 #Hanneman
		this = character:200011 #Holst
		this = character:400015 #Hubert
		this = character:400025 #Randolph
		this = character:100010 #Cyril
		this = character:200016 #Raphael
		this = character:400023 #Ionius
		this = character:300011 #Ashe
		this = character:100016 #Aelfric
		this = character:100004 #Alois
		this = character:300034 #Gwendal
		this = character:400024 #Arundel
		this = character:700001 #Nader
		this = character:300026 #Felix
		this = character:300031 #Dedue
		this = character:300076 #Caek
		this = character:400017 #Ferdinand
		this = character:100012 #Yuri
		this = character:400019 #Linhardt
		this = character:400022 #Jeritza
		this = character:100005 #Gilbert
		this = character:400018 #Caspar
		this = character:100009 #Jeralt
		this = character:100013 #Balthus
		this = character:200026 #Acheron
		this = character:700000 #Milad
		this = character:300000 #Dimitri
		this = character:200012 #Claude
		this = character:400006 #Ludwig
		this = character:200006 #Richard
		this = character:200005 #Lear
		this = character:200007 #Edgar
		this = character:200053 #Theodor
		this = character:200056 #Brandon
		this = character:200014 #Godfrey
		this = character:200027 #Caius
		this = character:200028 #Elihu
		
		###FEMALES###
		this = character:200022 #Marianne
		this = character:100011 #Catherine
		this = character:400027 #Ladislava
		this = character:300033 #Annette
		this = character:100014 #Constance
		this = character:100006 #Shamir
		this = character:100019 #Anna
		this = character:100015 #Hapi
		this = character:300032 #Mercedes
		this = character:100007 #Manuela
		this = character:400016 #Beradetta
		this = character:400021 #Petra
		this = character:200023 #Hilda
		this = character:300035 #Cornelia
		this = character:300025 #Ingrid
		this = character:200003 #Judith
		this = character:200025 #Leonie
		this = character:400020 #Dorothea
		this = character:200013 #Tiana
		this = character:400026 #Fleche
		this = character:200021 #Lysithea
		this = character:400000 #Edelgard
		this = character:100003 #Flayn
		this = character:100000 #Rhea
		this = character:200019 #Maya
	}
}

is_promoted = {
	OR = {
		has_character_modifier = defamed_candidate_1
		has_character_modifier = defamed_candidate_2
		has_character_modifier = defamed_candidate_3
		has_character_modifier = promoted_candidate_1
		has_character_modifier = promoted_candidate_2
		has_character_modifier = promoted_candidate_3
		has_character_modifier = refused_election_modifier
	}
}

has_changed_alliance_contract_obligation_trigger = {
	has_government = alliance_government
	scope:recipient = { has_government = alliance_government }
	OR = {
		local_var:levy_punishment != scope:obligation_check.vassal_contract_obligation_level:levy_sanction
	}
}

betrayed_alliance_or_hook = {
	scope:liege = {
		OR = {
			has_hook = scope:vassal

			has_opinion_modifier = {
				target = scope:vassal
				modifier = rebellious_vassal_opinion
			}
			has_opinion_modifier = {
				target = scope:vassal
				modifier = plotting_against_liege_opinion
			}
			has_opinion_modifier = {
				target = scope:vassal
				modifier = attempted_murder_me_crime
			}
			has_opinion_modifier = {
				target = scope:vassal
				modifier = executed_close_family
			}
			has_opinion_modifier = {
				target = scope:vassal
				modifier = tortured_me
			}
			has_opinion_modifier = {
				target = scope:vassal
				modifier = blinded_me
			}
			has_opinion_modifier = {
				target = scope:vassal
				modifier = castrated_me
			}
			has_opinion_modifier = {
				target = scope:vassal
				modifier = treachery_opinion
			}
		}
	}
}

title_in_adrestia = {
	any_this_title_or_de_jure_above = {
		OR = {
			this = title:e_adrestia
			this = title:k_church
			this = title:k_sreng
			this = title:k_duscur
		}
	}
}

fodlan_allow_internal_war = {
	OR = {
		fodlan_major_incident_active = no
		NOT = {
			any_held_title = {
				title_in_adrestia = yes
			}
		}
	}
}